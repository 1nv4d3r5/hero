[h1]Template Plugins[/h1]

The following [http://www.smarty.net](Smarty) template functions and blocks are available throughout your templates.  These are available above and beyond the standard Smarty template functions, available at [http://www.smarty.net](Smarty's documentation).

[h2]custom_field (parameters: field, value)[/h2]

Display a form element from a standard custom field data array for one field.  If no value is specified as a parameter, it will try to deduce the current submitted value from the $_POST array and/or the field's default value(s).

Usage (assuming the template has been passed an array of custom fields as [span_code]$custom_fields[/span_code]):

[code]
{foreach $custom_fields as $field}
	<li>
		<label for="field_{$field.name}">{$field.friendly_name}</label>
	</li>
	<li>
		{custom_field field=$field}
	</li>
	{if $field.help}
		<li>
			<div class="help">{$field.help}</div>
		</li>
	{/if}
{/foreach}
[/code]

[h2]paginate (parameters: base_url, total_rows, per_page, variable)[/h2]

Generate the HTML for a pagination set of links.

Required variables:

* [span_code]base_url[/span_code] - The URL to use as the base for pagination
* [span_code]total_rows[/span_code] - The total number of rows in the dataset
* [span_code]per_page[/span_code] - How many items to show per page
* [span_code]variable[/span_code] - The query string variable to use in pagination (e.g., index.php?page=5 would have "page" as the variable).

[h2]restricted (parameters: in_group, not_in_group)[/h2]

If the user is in the in_group and not in the not_in_group, the content between the tags is parsed.  Both tags are optional.  Furthermore, if you want to check either the in_group or not_in_group status of the user against multiple member group ID's, you can pass a string like "1|2" (each member group ID is separated by a pipe).

Note that, while most of the examples below show the parameters passed as integers or pipe-delimited strings, you can also pass arrays such as the standard
[privileges](privileges array) used in many [APPNAME] modules.

Basic usage:

[code]
{restricted in_group="3"}
Only users in group #3 can see this.
{/restricted}
[/code]

Check against multiple member groups:

[code]
{restricted in_group="1|5"}
Users in either or both groups #1 and #5 can see this.
{/restricted}
[/code]

User must be in a group but not in another group:

[code]
{restricted in_group="5" not_in_group="3"}
Content is only shown if user is in group #5 but no in group #3.
{/restricted}
[/code]

Example with a content privileges array:

[code]
{restricted in_group=$privileges}
	You are in this group.  I'll show you the full article:
	
	{$title}
	Published on {$date}.
	
	{$body}
{/restricted}

{restricted not_in_group=$privileges}
	You are not in the group.  Sorry.
{/restricted}
[/code]

[h2]shorten (parameters: length, string)[/h2]

Shorten a string of text to a specific length and attached "..." to the end of it.

The [span_code]length[/span_code] parameter is an integer, representing the number of characters to shorten the text to.

[code]
{shorten length="250" string=$body}
[/code]

[h2]setting (parameters: path)[/h2]

Retrieve a site configuration or setting value.  All standard [APPNAME] settings viewable in the control panel at Configuration > Settings.  Furthermore, all configuration variables defined in /app/config (standard CodeIgniter variables) are also available.

Usage:

[code]
{setting name="site_title}
[/code]

Returns to template:

[code]
Your site title
[/code]

Another example:

[code]
{setting name="base_url"}
[/code]

Returns to template:

[code]
http://www.yourbaseurl.com OR https://www.yourbaseurl.com
[/code]

[h2]theme_url (parameters: path)[/h2]

Retrieve an absolute URL within your active theme's folder with a relative URL path.  Will use HTTPS if necessary.

Usage:

[code]
{theme_url path="images/theme_header.gif"}
[/code]

Returns to template:

[code]
http://www.yourdomain.com/themes/yourtheme/images/theme_header.gif
[/code]

[h2]thumbnail (parameters: path, height, width)[/h2]

Create a thumbnail of an image and return the URL to this cached thumbnail iamge.

Usage:

[code]
{* This would occur within a product page *}
<img src="{thumbnail path=$image.path width="80" height="80"}" alt="Image Thumbnail" />
[/code]

Returns to template:

[code]
<img src="http://www.example.com/writeable/image_thumbs/fsdf24r02j8paja3894dfkf8fj2a2.jpg" alt="Image Thumbnail" />
[/code]

[h2]url (parameters: path)[/h2]

Retrieve an absolute URL relative to your site's base URL.  Will use HTTPS if necessary.

Usage:

[code]
{url path="my_page.html"}
[/code]

Returns to template:

[code]
http://www.yourdomain.com/my_page.html
[/code]