[h1]Paywall[/h1]

Your Paywall settings are configured at Configuration > Paywall in the control panel.

The "Paywall" comes in to play when a user stumbles upon a piece of content which they do not have permissions to see.  By default, your site will be using the Auto-Paywall.  This means that, when your user hits this content, they will be directed to a site-wide-standard Paywall page generated by a standard template file in your theme.  This template file is customizable but defaults to [filename]paywall.thtml[/filename].

You can customize this template file to have your own marketing text or a customized login form and registration link, but many sites will likely keep it as is.

Alternatively, you can turn off the Auto-Paywall and deal with content permissions manually.  For more information on that, see how to use the [designers/privileges](privileges array) return in most content's template variables.

[h2]Showing Partial Content in the Auto-Paywall Template[/h2]

[APPNAME]'s modules will send their content to the paywall template in the [span_code]$content[/span_code] array.  So, if you want to display or use this content in any way, you can do so in the paywall template.

For example, if you want to show the title of the content they cannot see, you would have this code in your paywall template:

[code]
<p>Hey!  You just tried accessing <u>{$content.title}</u>!  Unfortunately, you don't have access to do this.</p>
<p>Please <a href="{url path="users/login"}">login</a> or <a href="{url path="subscriptions"}">subscribe</a> to view
the content.</p>
[/code]

You might also want to show a part of the content.  In the following example, there is a field called "Body" which holds the body of the article:

[code]
<h1>{$content.title}</h1>

<p>Here's a 500-character preview of the article you tried to read:</p>

{shorten length="500" string=$content[body]}

<p>Want to read more?  <a href="{url path="users/login"}">login</a> or <a href="{url path="subscriptions"}">Subscribe</a>!</p>
[/code]

[h2]Detect Content Type in Auto-Paywall[/h2]

The auto-paywall may receive redirects from content pages, forms, blogs, etc. If you want to change the page depending on what content type is being restricted, you can access the [span_code]$type[/span_code] variable.

For example:

[code]
{if $type == 'content'}
You were accessing an article, {$content.title}.
{elseif $type == 'form'}
You tried to submit a form, {$content.title}.
{/if}
[/code]